
<div class="container">
  <%= form_with model: @event, local: true do |form| %>
    <div class="form-group">
      <%= form.label :title, "Quel êvènement, activité proposes-tu?" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :description, "Dis-nous-en un peu plus" %>
      <%= form.text_field :description, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :date, "Quand?" %>
      <%= form.text_field :date, class: "form-control", data:{controller: "flatpicker"} %>
    </div>


    <div class="form-group">
      <%= form.label :address, "Où ça?" %>
      <%= form.text_field :address, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :mood, "Le Mood de mon événement:" %>
      <%= form.text_field :mood, class: "form-control", placeholder: current_user.mood, disabled: true %>
      <p class="badge badge-light">Tu peux modifier ton mood via ton profil</p>
    </div>

    <fieldset>
    <div class="checkbox-map form-group">
    <%=form.label :hobbie, "Le type de hobby de ton événement ?"%>
      <div class="checkbox-row">
        <input type="checkbox" id="Geek-Créatif" name="hobby-type" />
        <label for="Geek-Créatif" class="checkbox-label">Geek-Créatif</label>

        <input type="checkbox" id="Sport-Aventure" name="hobby-type" />
        <label for="Sport-Aventure" class="checkbox-label">Sport-Aventure</label>

        <input type="checkbox" id="Food-Partage" name="hobby-type" />
        <label for="Food-Partage" class="checkbox-label">Food-Partage</label>

        <input type="checkbox" id="Chill-Cosy" name="hobby-type" />
        <label for="Chill-Cosy" class="checkbox-label">Chill-Cosy/Posé</label>
      </div>
    </div>
    </fieldset>

    <script>
    const checkboxes = document.querySelectorAll('input[type="checkbox"][name="hobby-type"]');

    checkboxes.forEach((checkbox) => {
      checkbox.addEventListener('change', () => {
        if (checkbox.checked) {
          checkboxes.forEach((other) => {
            if (other !== checkbox) other.checked = false;
          });
        }
      });
    });
    </script>



   <div class="form-group">
    <%= form.label :max_participants, "Nombre maximal de participants" %>
    <%= form.select :max_participants, options_for_select((2..100).to_a), {}, class: "form-control" %>
  </div>

    <%= form.file_field :photo%>

    <%= form.submit "Créer l'événement", class: "btn btn-success" %>
  <% end %>

  <%= link_to "⬅ Retour", events_path, class: "btn btn-secondary" %>
</div>
